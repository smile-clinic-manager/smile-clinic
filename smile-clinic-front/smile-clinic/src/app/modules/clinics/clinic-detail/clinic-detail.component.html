<h1> Detalle Clínica </h1>
<mat-card>
  <mat-card-header class="clinic-avatar-image">
    <button mat-icon-button [matMenuTriggerFor]="clinicMenu" class="top-left-button" aria-label="clinic menu">
      <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #clinicMenu="matMenu">
      <button mat-menu-item aria-label="edit" (click)="updateClinic()">
        <mat-icon>edit</mat-icon>
        Editar Clínica
      </button>
      <mat-divider></mat-divider>
      <button mat-menu-item aria-label="delete" (click)="deleteClinic()">
        <mat-icon>delete</mat-icon>
        Eliminar Clínica
      </button>
    </mat-menu>
  </mat-card-header>

  <mat-card-content>
    <h2 style="text-align: center; margin-bottom: 20px;">{{clinic?.name}}</h2>
    <div class="info-container">
      <div class="info-item">
        <p style="margin-right: 50px;"><strong>Dirección: </strong> {{clinic?.address}} </p>
        <p><strong>Código postal: </strong>{{clinic?.postalCode}}</p>
      </div>
      <div class="info-item">
        <p style="margin-right: 50px;"><strong>Número de contacto: </strong> {{clinic?.phoneNumber}}</p>
        <p><strong>Correo electrónico: </strong> {{clinic?.email}}</p>
      </div>
    </div>
  </mat-card-content>

</mat-card>

<mat-tab-group>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon>groups</mat-icon> Personal
    </ng-template>
    @defer (when clinic !== undefined) { <!-- Retrasamos carga hasta que tengamos clinic definido -->
    <app-clinic-personal [clinicId]="clinic?.id"></app-clinic-personal>
    } @placeholder {
    <mat-spinner></mat-spinner>
    }
  </mat-tab>
  <mat-tab>
    <ng-template mat-tab-label>
      <mat-icon>emergency</mat-icon> Tratamientos
    </ng-template>
    @defer (when clinic !== undefined) { <!-- Retrasamos carga hasta que tengamos clinic definido -->
    <app-treatment-list [id]="clinic?.id"></app-treatment-list>
    } @placeholder {
    <mat-spinner></mat-spinner>
    }
  </mat-tab>
</mat-tab-group>